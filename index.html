<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/demo.css"/>
    <link
            rel="preload"
            as="font"
            crossorigin
            type="font/woff2"
            href="https://cdn.plyr.io/static/fonts/gordita-medium.woff2"
    />
    <link
            rel="preload"
            as="font"
            crossorigin
            type="font/woff2"
            href="https://cdn.plyr.io/static/fonts/gordita-bold.woff2"
    />

</head>
<body>
<script>
    window.Telegram.WebApp.requestFullscreen()
</script>

<div id="container">
    <video controls crossorigin playsinline id="player"
           style="
           margin-top: var(--tg-content-safe-area-inset-top);
           margin-left: var(--tg-content-safe-area-inset-left);
           margin-bottom: var(--tg-content-safe-area-inset-bottom);
           margin-right: var(--tg-content-safe-area-inset-right);
">
        <!-- Video files -->
        <source id="srAddLink" type="video/mp4" size="720"/>

    </video>
</div>
<button value="выйти из полноэкранного режима" onclick="window.Telegram.WebApp.exitFullscreen()">Выйти из полноэкранного режима</button>
<button value="Войти в полноэкранный режим" onclick="window.Telegram.WebApp.requestFullscreen()">Войти в полноэкранный режим</button>
<div>
    <h1>Info</h1>
    <p>Version: 0.61</p>
    <p>двойным нажатием на плеер откроеться полно экранный режим</p>
</div>

<script>
    function getQueryStrings() {
        var assoc  = {};
        var decode = function (s) { return decodeURIComponent(s.replace(/\+/g, " ")); };
        var queryString = location.search.substring(1);
        var keyValues = queryString.split('&');

        for(var i in keyValues) {
            var key = keyValues[i].split('=');
            if (key.length > 1) {
                assoc[decode(key[0])] = decode(key[1]);
            }
        }

        return assoc;
    }
    var qs = getQueryStrings();
    document.getElementById('srAddLink').setAttribute('src',qs['link'])
</script>
<script src="https://cdn.plyr.io/3.7.8/demo.js" crossorigin="anonymous"></script>
</body>
</html>